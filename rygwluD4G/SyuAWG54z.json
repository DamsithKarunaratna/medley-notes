{"_id":"SyuAWG54z","title":"5 - Integrating the Database","body":{"entityMap":{"0":{"type":"LINK","mutability":"MUTABLE","data":"https://mlab.com/"}},"blocks":[{"key":"ag6qs","text":"5 - Integrating the Database","type":"header-one","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"en5s3","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"59kd9","text":"#################################################################","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"emvmp","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"6pfii","text":"Will be using MLab which is a database-as-a-service service for MongoDB","type":"unordered-list-item","depth":0,"inlineStyleRanges":[{"offset":30,"length":22,"style":"ITALIC"}],"entityRanges":[{"offset":14,"length":5,"key":0}],"data":{}},{"key":"co8pd","text":"Once an account is set up, it can be integrated into the server.js file","type":"unordered-list-item","depth":0,"inlineStyleRanges":[{"offset":57,"length":10,"style":"ITALIC"}],"entityRanges":[],"data":{}},{"key":"35bmp","text":" To connect using a driver via the standard MongoDB URI, a link is given on the deployments page.","type":"unordered-list-item","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"56mlo","text":"mongodb://<dbuser>:<dbpassword>@ds247357.mlab.com:47357/damma_db","type":"custom-code-block-bash","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"9nl81","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"3561b","text":"copy the link... and add it to the server.js file...","type":"unordered-list-item","depth":0,"inlineStyleRanges":[{"offset":35,"length":10,"style":"ITALIC"}],"entityRanges":[],"data":{}},{"key":"o8no","text":"//server.js","type":"custom-code-block-javascript","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"d4l7e","text":"// …(removed for brevity)\nvar port = process.env.API_PORT || 3001;","type":"custom-code-block-javascript","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"5hr8o","text":"//db config\nmongoose.connect('mongodb://<dbuser>:<dbpassword>@ds247357.mlab.com:47357/damma_db');","type":"custom-code-block-javascript","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"22mm","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"as6v","text":"Next we need to create the schema that will show teh database what our entries will look like,","type":"unordered-list-item","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"1envh","text":"//model/comments.js\n'use strict';\n//import dependency\nvar mongoose = require('mongoose');\nvar Schema = mongoose.Schema;","type":"custom-code-block-javascript","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"8k5r","text":"//create new instance of the mongoose.schema. the schema takes an \n//object that shows the shape of your database entries.\nvar CommentsSchema = new Schema({\n author: String,\n text: String\n});","type":"custom-code-block-javascript","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"fdts3","text":"//export our module to use in server.js\nmodule.exports = mongoose.model('Comment', CommentsSchema);","type":"custom-code-block-javascript","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"8155t","text":"Next we import the schema into the server.js file","type":"unordered-list-item","depth":0,"inlineStyleRanges":[{"offset":35,"length":9,"style":"ITALIC"}],"entityRanges":[],"data":{}},{"key":"diiu0","text":" ","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"1n4hq","text":"//server.js\n//…\nvar bodyParser = require('body-parser');\nvar Comment = require('./model/comments');\n//…","type":"custom-code-block-javascript","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"coed2","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"2558g","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"4prbs","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}}]},"dateCreated":"2018-01-15T11:34:39.728Z","lastUpdated":"2018-01-16T01:02:28.726Z","notebookId":"rygwluD4G"}
